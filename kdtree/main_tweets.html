<html>

<head>
    <title>Kd tree - Grupo 2 </title>
    <script src="p5.min.js"> </script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src=" kdtree.js "> </script>
    <script src=" sketch.js "> </script>
    <script type="text/javascript" src="data/final_tweets_2d.js"></script>
    <script type="text/javascript" src="data/test_tweets_2d.js"></script>
 </head>

<body>

    <div class="row justify-content-start  ">
  
        <div class="row">
            <main></main>
        </div>

    </div>

    <script>

        var trained_data = JSON.parse(data);

        console.log("valor de entrenamiento: " + trained_data.length);

        var root = build_kdtree(trained_data);

        var dataT = JSON.parse(data_test);

        for(let i = 0; i < dataT.length; i++) {
            console.log(dataT[i]);
            knnClassifier(root, [dataT[i][1], dataT[i][2]]);
        }

        function knnClassifier(root, pointY) {

            var cantidadK = 1;
            var knn = findKnn(root, pointY, parseInt(cantidadK)).nearestNeighbors;
            // console.log(knn);
            var countHOF = 0, countNOT = 0;

            for (let i = 0; i < knn.length; i++) {
                // console.log(knn[i].point + ", " + knn[i].value);
                if (knn[i].value === "HOF") {
                    countHOF++;
                } else {
                    countNOT++;
                }
            }
            if (countHOF > countNOT) {
                console.log("Este tweet es OFENSIVO");
            } else {
                console.log("Este tweet NO es OFENSIVO");
            }
        }
    </script>

</body>


</html>